<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wedding</title>
  <style>
    
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      background-image: url("images/IMG_7904.jpg");
      background-color: #cccccc;
      background-size: cover;
      background-position: center;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
    }

    .container {
      margin-top: 200px;
      text-align: center;
    }

    h1, h2 {
      color: white;
      font-family: 'Lucida Handwriting', cursive;
      text-shadow: 2px 2px grey;
    }

    h1 {
      font-size: 50px;
    }

    h2 {
      font-size: 30px;
    }

    .swipe-text {
      margin-bottom: 40px;
      font-size: 22px;
      color: white;
      text-shadow: 1px 1px gray;
      font-family: 'Lucida Handwriting', cursive;
      cursor: pointer;
      user-select: none;
    }

    .swipe-text:hover {
      color: grey;
    }

    #countdown {
      color: white;
      font-family: 'Lucida Handwriting', cursive;
      text-shadow: 1px 1px gray;
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>
      David<br>
      &nbsp;&amp;<br>
      Mirna
    </h1>
    <h2>Are Getting Married</h2>
    <div id="countdown" style="color: white; font-family: 'Lucida Handwriting', cursive; text-shadow: 1px 1px gray; margin-top: 20px;"></div>

  </div>

  <div class="swipe-text" id="swipeZone" style="font-family: Cascadia Mono SemiBold">
  Swipe left <br>
  &nbsp;&nbsp;&nbsp;&nbsp;<-
  </div>

  <script>
      let startX = 0;
  let endX = 0;

  // Listen on the entire body for better user experience
  document.body.addEventListener('touchstart', function (e) {
    startX = e.touches[0].clientX;
  });

  document.body.addEventListener('touchend', function (e) {
    endX = e.changedTouches[0].clientX;
    handleSwipe();
  });

  function handleSwipe() {
    const threshold = 50;
    const distance = endX - startX;

    if (distance > threshold) {
      // Swipe right
      window.location.href = "index.html";
    } else if (distance < -threshold) {
      // Swipe left
      window.location.href = "page3.html";
    }
  }
    function updateCountdown() {
      const weddingDate = new Date("August 23, 2025 18:00:00").getTime();
      const now = new Date().getTime();
      const distance = weddingDate - now;

      if (distance < 0) {
        document.getElementById("countdown").innerHTML = "It's Wedding Time!";
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      document.getElementById("countdown").innerHTML = `
        <div style="display: flex; gap: 25px; justify-content: center;">
          <div style="text-align: center;">
            <div style="font-size: 36px;">${days} :</div>
            <div style="font-size: 16px;">Days</div>
          </div>
          <div style="text-align: center;">
            <div style="font-size: 36px;">${hours} :</div>
            <div style="font-size: 16px;">Hours</div>
          </div>
          <div style="text-align: center;">
            <div style="font-size: 36px;">${minutes} :</div>
            <div style="font-size: 16px;">Minutes</div>
          </div>
          <div style="text-align: center;">
            <div style="font-size: 36px;">${seconds}</div>
            <div style="font-size: 16px;">Seconds</div>
          </div>
        </div>
      `;
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();
  </script>
<audio id="bg-music" src="audio/thousandyears.mp3" loop></audio>

<button id="music-toggle" 
        style="
          position: fixed;
          bottom: 20px;
          left: 20px;
          background: rgba(0,0,0,0.5);
          border: none;
          border-radius: 50%;
          width: 40px;
          height: 40px;
          color: white;
          font-size: 24px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          user-select: none;
          z-index: 9999;
        " 
        aria-label="Toggle music">
  &#10074;&#10074; <!-- pause symbol -->
</button>
<script>
  const audio = document.getElementById("bg-music");
  const btn = document.getElementById("music-toggle");

  // Load saved music state (playing or paused)
  let musicState = localStorage.getItem("musicState") || "playing";

  // Function to update button icon
  function updateButton() {
    if(audio.paused){
      btn.innerHTML = "&#9658;"; // play symbol ►
    } else {
      btn.innerHTML = "&#10074;&#10074;"; // pause symbol ‖
    }
  }

  // Initialize audio play/pause according to saved state
  if(musicState === "playing"){
    audio.play().catch(() => {
      // Autoplay might fail, user needs interaction
      console.log("Autoplay prevented, user interaction needed.");
      // Show play icon to indicate paused state
      audio.pause();
      musicState = "paused";
      localStorage.setItem("musicState", musicState);
    });
  } else {
    audio.pause();
  }
  updateButton();

  btn.addEventListener("click", () => {
    if(audio.paused){
      audio.play();
      musicState = "playing";
    } else {
      audio.pause();
      musicState = "paused";
    }
    localStorage.setItem("musicState", musicState);
    updateButton();
  });
</script>


</body>
</html>
